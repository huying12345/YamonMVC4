#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.42000
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.Data;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Yamon.Framework.Common;
    using Yamon.Module.SiteManage;
    using Yamon.Module.SiteManage.Entity;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/SiteManage/Views/CityType/SetMenu.cshtml")]
    public partial class _Areas_SiteManage_Views_CityType_SetMenu_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Areas_SiteManage_Views_CityType_SetMenu_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\SiteManage\Views\CityType\SetMenu.cshtml"
  
    ViewBag.BodyClass = "";

            
            #line default
            #line hidden
WriteLiteral("\r\n<form");

WriteLiteral(" id=\"myForm\"");

WriteLiteral(" name=\"myForm\"");

WriteLiteral(" action=\"\"");

WriteLiteral(" method=\"post\"");

WriteLiteral(">\r\n    <table");

WriteLiteral(" id=\"test\"");

WriteLiteral("></table>\r\n</form>\r\n");

DefineSection("scripts", () => {

WriteLiteral("\r\n<script");

WriteAttribute("src", Tuple.Create(" src=\"", 160), Tuple.Create("\"", 198)
, Tuple.Create(Tuple.Create("", 166), Tuple.Create<System.Object, System.Int32>(Href("~/Resources/JsLib/jquery.form.js")
, 166), false)
);

WriteLiteral("></script>\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n        function setGridHeight() {\r\n            var w = (window.innerWidth || " +
"(window.document.documentElement.clientWidth || window.document.body.clientWidth" +
" || document.body.offsetWidth));\r\n            var h = (window.innerHeight || (wi" +
"ndow.document.documentElement.clientHeight || window.document.body.clientHeight " +
"|| document.body.offsetHeight));\r\n            jQuery(\'#test\').treegrid(\'resize\'," +
" {\r\n//给datagrid加属性\r\n                height: h,\r\n                width: \'100%\',\r\n" +
"                margin: \'auto\'\r\n            });\r\n        }\r\n\r\n        $(function" +
" () {\r\n            \r\n            $(\'#test\').treegrid({\r\n                iconCls:" +
" \'icon-save\',\r\n                checkbox: false,\r\n                nowrap: false,\r" +
"\n                rownumbers: true,\r\n                singleSelect: true, //单选一行\r\n" +
"                animate: true,\r\n                collapsible: true,\r\n            " +
"    idField: \'MenuID\',\r\n                treeField: \'MenuName\',\r\n                " +
"columns: [\r\n                    [\r\n                        { field: \'MenuID\', ti" +
"tle: \'ID\', sortable: true, width: 100, hidden: true },\r\n                        " +
"{ field: \'PageCode\', title: \'权限\', sortable: true, width: 30 },\r\n                " +
"        { field: \'MenuName\', title: \'菜单名称\', sortable: true, width: 300 },\r\n     " +
"                   { field: \'ToolBar\', title: \'工具栏权限\', sortable: true, width: 40" +
"0 }\r\n                    ]\r\n                ],\r\n                onBeforeLoad: fu" +
"nction (row, param) {\r\n                    jQuery(this).treegrid(\'options\').url " +
"= \'/SiteManage/CityType/CityTypePurivewGridTreeJsonAction/\' + myPage.id;\r\n      " +
"          },\r\n                toolbar: [\r\n                    {\r\n               " +
"         id: \'btncut\',\r\n                        text: \'保存\',\r\n                   " +
"     iconCls: \'icon-save\',\r\n                        handler: function() {\r\n     " +
"                       saveData();\r\n                        }\r\n                 " +
"   }, {\r\n                        id: \'btncut\',\r\n                        text: \'刷" +
"新\',\r\n                        iconCls: \'icon-reload\',\r\n                        ha" +
"ndler: function() {\r\n                            reloadData();\r\n                " +
"        }\r\n                    }, {\r\n                        id: \'btqx\',\r\n      " +
"                  text: \'全选\',\r\n                        iconCls: \'icon-ok\',\r\n    " +
"                    handler: function() {\r\n                            jQuery(\"t" +
"d\").find(\"input[name=Purview]\").each(function() {\r\n                             " +
"   jQuery(this).prop(\"checked\", \"checked\");\r\n                            });\r\n  " +
"                      }\r\n                    }, {\r\n                        id: \'" +
"btnfx\',\r\n                        text: \'反选\',\r\n                        iconCls: \'" +
"icon-redo\',\r\n                        handler: function() {\r\n                    " +
"        jQuery(\"td\").find(\"input[name=Purview]\").each(function() {\r\n            " +
"                    if ($(this).prop(\"checked\")) {\r\n                            " +
"        $(this).removeProp(\"checked\");\r\n                                } else {" +
"\r\n                                    $(this).prop(\"checked\", \"checked\");\r\n     " +
"                           }\r\n                            });\r\n                 " +
"       }\r\n                    }, {\r\n                        id: \'btnbx\',\r\n      " +
"                  text: \'不选\',\r\n                        iconCls: \'icon-no\',\r\n    " +
"                    handler: function() {\r\n                            jQuery(\"t" +
"d\").find(\"input[name=Purview]\").each(function() {\r\n                             " +
"   jQuery(this).removeProp(\"checked\");\r\n                            });\r\n       " +
"                 }\r\n                    }, {\r\n                        id: \'btnbx" +
"\',\r\n                        text: \'返回\',\r\n                        iconCls: \'icon-" +
"back\',\r\n                        handler: function() {\r\n                         " +
"   history.go(-1);\r\n                        }\r\n                    }\r\n          " +
"      ]\r\n            });\r\n\r\n            window.onresize = setGridHeight;\r\n      " +
"      setGridHeight();\r\n\r\n        });\r\n\r\n        function reloadData() {\r\n      " +
"      $(\'#test\').treegrid(\'reload\');\r\n        }\r\n\r\n        // 选中一行\r\n        func" +
"tion getSelectId() {\r\n            var rows = $(\'#test\').treegrid(\'getSelections\'" +
");\r\n            if (rows == null || rows.length < 1) {\r\n                jQuery.m" +
"essager.alert(\'提示\', \'至少请选择一行！\', \'info\');\r\n                return;\r\n            }" +
" else if (rows.length > 1) {\r\n                jQuery.messager.alert(\'提示\', \'只能选择一" +
"行！\', \'info\');\r\n                return;\r\n            } else {\r\n                if" +
" (rows) {\r\n                    var selected = $(\'#test\').treegrid(\'getSelected\')" +
";\r\n                    if (selected) {\r\n                        return selected." +
"MenuID;\r\n                    }\r\n                }\r\n            }\r\n            re" +
"turn \"\";\r\n        }\r\n\r\n// 选中多行\r\n        function getSelectIds() {\r\n            v" +
"ar ids = [];\r\n            var rows = $(\'#test\').treegrid(\'getSelections\');\r\n    " +
"        if (rows == null || rows.length < 1) {\r\n                jQuery.messager." +
"alert(\'提示\', \'至少请选择一行！\', \'info\');\r\n                return;\r\n            } else {\r" +
"\n                for (var i = 0; i < rows.length; i++) {\r\n                    id" +
"s.push(rows[i].MenuID);\r\n                }\r\n            }\r\n            return id" +
"s.join(\",\");\r\n        }\r\n\r\n        var options = {\r\n            type: \'post\',\r\n " +
"           dataType: \'text\',\r\n            url: \"/SiteManage/CityType/SaveCityTyp" +
"ePurviewAction/\" + myPage.id,\r\n            success: function(msg) {\r\n           " +
"     if (msg == \"1\") {\r\n                    alert(\"保存成功\");\r\n                } el" +
"se {\r\n                    alert(\"保存失败：\" + msg);\r\n                }\r\n            " +
"},\r\n            error: function(error) {\r\n                jQuery.messager.alert(" +
"\'提示\', \'保存失败：\' + error.toString(), \'info\');\r\n                return false;\r\n     " +
"       }\r\n        };\r\n\r\n//保存 数据\r\n        function saveData(id) {\r\n            jQ" +
"uery(\"#myForm\").ajaxSubmit(options);\r\n            return false;\r\n        }\r\n\r\n\r\n" +
"        function setPurview(obj) {\r\n            var checked = jQuery(obj).prop(\"" +
"checked\");\r\n            jQuery(obj).parent().parent().siblings(\"td\").find(\"input" +
"\").prop(\"checked\", checked);\r\n            var parentPath = jQuery(obj).attr(\"Par" +
"entPath\");\r\n            var allChildId = jQuery(obj).attr(\"AllChildID\");\r\n      " +
"      if (checked) {\r\n                if (parentPath != \"\") {\r\n                 " +
"   var arrParentId = parentPath.split(\',\');\r\n                    for (var i = 0;" +
" i < arrParentId.length; i++) {\r\n                        jQuery(\'#Purview\' + arr" +
"ParentId[i]).prop(\"checked\", checked);\r\n                        setToolPurview1(" +
"\'#Purview\' + arrParentId[i]);\r\n                    }\r\n                }\r\n       " +
"     }\r\n\r\n            if (allChildId != \'\') {\r\n                var arrChildId = " +
"allChildId.split(\',\');\r\n                for (var i = 0; i < arrChildId.length; i" +
"++) {\r\n                    if (checked) {\r\n                        jQuery(\'#Purv" +
"iew\' + arrChildId[i]).prop(\"checked\", checked);\r\n                    } else {\r\n " +
"                       jQuery(\'#Purview\' + arrChildId[i]).removeProp(\"checked\");" +
"\r\n                    }\r\n                    setToolPurview1(\'#Purview\' + arrChi" +
"ldId[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        function setTo" +
"olPurview1(obj) {\r\n            if (jQuery(obj).prop(\'checked\')) {\r\n             " +
"   jQuery(obj).parent().parent().siblings(\"td\").find(\"input\").prop(\"checked\", jQ" +
"uery(obj).prop(\'checked\'));\r\n            } else {\r\n                jQuery(obj).p" +
"arent().parent().siblings(\"td\").find(\"input\").removeProp(\"checked\");\r\n          " +
"  }\r\n        }\r\n\r\n        function setToolPurview(obj) {\r\n            if (jQuery" +
"(obj).prop(\"checked\")) {\r\n                jQuery(obj).parent().parent().siblings" +
"(\"td\").find(\"input\").prop(\"checked\", \"checked\");\r\n            }\r\n        }\r\n\r\n\r\n" +
"\r\n    </script>\r\n");

});

        }
    }
}
#pragma warning restore 1591
